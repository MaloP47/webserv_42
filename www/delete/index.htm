<!doctype html>
<html>

<head>
	<title>Delete test</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap"
		rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js">
	</script>
</head>

<body class="m-3 mt-5" style="background-color:#e5e5e5">
	<div class="container p-3">
		<div class="rounded-3 p-5" style="background-color:#fcfcfc; border:solid 1px #cdcdcd">
			<center>
				<h2>Delete files</h2>
			</center>
			<iframe src="/files/" width="100%" height="500px" class="rounded-4"></iframe>
			<div class="mb-3">
				<label for="filename" class="form-label">Filename </label>
				<input id="filename" name="filename" type="type" class="form-control" />
				<div id="emailHelp" class="form-text">Put the name of the file you want to delete</div>
			</div>
			<center>
				<button class="btn btn-primary" id="delete">Delete</button>
			</center>
		</div>
	</div>
</body>
<script type="text/javascript">
	$(document).ready(function () {
		$("#delete").on("click", function () {
			var file = $("#filename").val();
			if (file == "") {
				alert("Please enter a file name...")
			} else {
				alert("Trying to delete file : " + file);
				$.ajax({
					type: "DELETE",
					url: "files/" + file,
					data: "",
					success: function () {
						location.reload(true);
					},
					error: function () {
						alert("File does not exist...");
					}
				});
			}
		});
	});
</script>

</html>
